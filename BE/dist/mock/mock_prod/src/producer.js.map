{"version":3,"file":"producer.js","sourceRoot":"","sources":["../../../../mock/mock_prod/src/producer.ts"],"names":[],"mappings":";;AACA,0DAA8D;AAC9D,6EAA0E;AAC1E,6EAA0E;AAC1E,+DAA+D;AAE/D;IAIE;QACE,IAAI,CAAC,MAAM,GAAmB,IAAI,6BAAa,CAAC,oCAAkB,CAAC,CAAC,WAAW,CAAC;QAChF,IAAI,CAAC,aAAa,GAAG,IAAI,sBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAC5C,WAAW,CAAC,GAAG,EAAE;gBACf,MAAM,KAAK,GAAG,qCAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBAC5E,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,kBAAkB,GAAG,EAAE,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;CAEF;AAnBD,4BAmBC","sourcesContent":["import { ProducerConfig } from './model/producer.config.interface';\nimport { RabbitAdapter } from '../../../shared/rabbit/rabbit';\nimport { MockDataGeneretor } from './mockDataGeneretor/mockDataGeneretor';\nimport { ConfigHandler } from '../../../shared/configSetup/configHandler';\nimport { ConfigFileLocation } from '../config/config.filePath';\n\nexport class Producer {\n  private config: ProducerConfig;\n  private rabbitAdapter: RabbitAdapter;\n\n  constructor() {\n    this.config = <ProducerConfig>new ConfigHandler(ConfigFileLocation).finalConfig;\n    this.rabbitAdapter = new RabbitAdapter(this.config.rabbitConfig);\n    this.init();\n  }\n\n  public init() {\n    this.rabbitAdapter.initConnection().then(() => {\n      setInterval(() => {\n        const batch = MockDataGeneretor.createBatch(this.config.config_batchNumber);\n        this.rabbitAdapter.sendToQueue(batch);\n      }, this.config.config_batchNumber / 10);\n    });\n  }\n\n}\n"]}