{"version":3,"file":"configHandler.spec.js","sourceRoot":"","sources":["../../../../shared/configSetup/test/configHandler.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { ConfigHandler, EnvironementMode } from '../configHandler';\nimport { configFileLocation } from './configPathTest';\nimport { expect } from 'chai';\n\ndescribe('Testing config handler', () => {\n  enum settings {\n    object = 'object',\n    Environment = 'config_env',\n    CustomPath = './validateMockData.custom.json'\n  }\n\n  const testResults = {\n    dev: { 'a': { '1': 'a1', '2': 'a2' }, 'b': 'B' },\n    test: { 'a': 'A', 'b': 'B', 'c': 'C' },\n    prod: { 'a': { '1': 'a.1', '2': 'a.2', '3': { '1': 'a.3.1', '2': 'a.3.2' } }, 'b': 'B' },\n    custom: { 'o': 'O', 'h': 'H', 'a': 'A', 'd': 'D' }\n  };\n\n  it('config handler - only file', (done) => {\n    process.env[settings.Environment] = undefined;\n    const configHandler = new ConfigHandler(configFileLocation);\n    expect(configHandler.finalConfig).to.be.a(settings.object);\n    expect(configHandler.finalConfig).to.deep.equal(testResults.dev);\n    done();\n  });\n\n  it('Test the object in test environment', (done) => {\n    process.env[settings.Environment] = EnvironementMode.test;\n    const configHandler = new ConfigHandler(configFileLocation);\n    expect(configHandler.environmentMode).to.equal(EnvironementMode.test);\n    expect(configHandler.finalConfig).to.be.a(settings.object);\n    expect(configHandler.finalConfig).to.deep.equal(testResults.test);\n    done();\n  });\n\n  it('Test the object in development environment', (done => {\n    process.env[settings.Environment] = EnvironementMode.dev;\n    const configHandler = new ConfigHandler(configFileLocation);\n    expect(configHandler.environmentMode).to.equal(EnvironementMode.dev);\n    expect(configHandler.finalConfig).to.be.a(settings.object);\n    expect(configHandler.finalConfig).to.deep.equal(testResults.dev);\n    done();\n\n  }));\n\n  it('Test the object in production environment', (done => {\n    process.env[settings.Environment] = EnvironementMode.prod;\n    const configHandler = new ConfigHandler(configFileLocation);\n    expect(configHandler.environmentMode).to.equal(EnvironementMode.prod);\n    expect(configHandler.finalConfig).to.be.a(settings.object);\n    expect(configHandler.finalConfig).to.deep.equal(testResults.prod);\n    done();\n  }));\n\n  it('Test the object in custom ', (done => {\n    process.env[settings.Environment] = EnvironementMode.custom;\n    process.env['configFileLocation'] = settings.CustomPath;\n    const configHandler = new ConfigHandler(configFileLocation);\n    expect(configHandler.environmentMode).to.equal(EnvironementMode.custom);\n    expect(configHandler.finalConfig).to.be.a(settings.object);\n    expect(configHandler.finalConfig).to.deep.equal(testResults.custom);\n    done();\n  }));\n});\n"]}