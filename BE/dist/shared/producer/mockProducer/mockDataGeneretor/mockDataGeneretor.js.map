{"version":3,"file":"mockDataGeneretor.js","sourceRoot":"","sources":["../../../../../shared/producer/mockProducer/mockDataGeneretor/mockDataGeneretor.ts"],"names":[],"mappings":";;AAAA,+BAA0B;AAE1B,sCAAwC;AAExC;IAAA;QACU,aAAQ,GAAG,CAAC,CAAC;IAqCvB,CAAC;IAnCC,MAAM,CAAC,WAAW,CAAC,WAAW;QAC5B,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,MAAM,QAAQ,GAAyB,EAAE,CAAC;QAC1C,OAAO,CAAC,GAAG,WAAW,EAAE;YACtB,MAAM,GAAG,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,SAAE,EAAE,EAAE,CAAC;YAC7C,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,EAAE,CAAC;SACL;QACD,OAAO,iBAAiB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACtD,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAC,OAAmB;QACzC,MAAM,EAAE,GAAG;YACT,OAAO;YACP,WAAW,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAClC,CAAC;QAEF,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC;IAGD,MAAM,CAAC,gBAAgB,CAAC,YAAoB;QAC1C,OAAO,IAAI,kBAAU,CAAC,QAAQ,CAAC,EAAE;YAC/B,MAAM,QAAQ,GAAG,WAAW,CAAC,GAAG,EAAE;gBAChC,IAAI,EAAE,IAAI,CAAC,QAAQ,KAAK,YAAY,EAAE;oBACpC,aAAa,CAAC,QAAQ,CAAC,CAAC;iBACzB;gBACD,MAAM,KAAK,GAAG,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBAC5E,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrB,2CAA2C;YAC7C,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC,CAAC,CAAA;IACJ,CAAC;CAEF;AAtCD,8CAsCC","sourcesContent":["import { v4 } from 'uuid';\nimport { MockDataType } from './mockDataType';\nimport { Observable } from 'rxjs/index';\n\nexport class MockDataGenerator {\n  private repeated = 0;\n\n  static createBatch(batchNumber): string {\n    let i = 0;\n    const mockData: Array< MockDataType> = [];\n    while (i < batchNumber) {\n      const msg = { message: `ms-${i}`, id: v4() };\n      mockData.push(msg);\n      i++;\n    }\n    return MockDataGenerator.stringifyMessage(mockData);\n  }\n\n  static stringifyMessage(message: Array<any>): string {\n    const js = {\n      message,\n      rabbitStart: new Date().getTime()\n    };\n\n    return JSON.stringify(js);\n  }\n\n\n  static generateMockData(timeToRepeat: number) : Observable<any> {\n    return new Observable(observer => {\n      const interval = setInterval(() => {\n        if (++this.repeated === timeToRepeat) {\n          clearInterval(interval);\n        }\n        const batch = MockDataGenerator.createBatch(this.config.config_batchNumber);\n        console.log(batch);\n        observer.next(batch);\n        // }, this.config.config_batchNumber / 10);\n      }, 2000);\n    })\n  }\n\n}"]}