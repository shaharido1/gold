{"version":3,"file":"server.js","sourceRoot":"","sources":["../../../mission/src/server.ts"],"names":[],"mappings":";;AAAA,4DAAiD;AACjD,kDAA+C;AAE/C,qCAA8B;AAC9B,+BAAwB;AACxB,mCAA4B;AAC5B,6CAAqC;AACrC,kDAA+C;AAC/C,gDAA+C;AAC/C,gDAA6C;AAE7C,MAAM,GAAG,GAAG,iBAAO,EAAE,CAAC;AACtB,MAAM,MAAM,GAAG,cAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAItC,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACvB,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;AAC5C,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAClE,MAAM,UAAU,GAAG,IAAI,uBAAU,EAAE,CAAC;AACpC,mBAAS,CAAC,OAAO,CAAC,mBAAQ,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;AAC5C,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,qBAAS,CAAC,UAAU,CAAC,CAAC;AACtC,uBAAM,CAAC,GAAG,CAAC,CAAC;AAEZ,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,UAAU,EAAE,GAAG,EAAE;IAEvC,OAAO,CAAC,GAAG,CAAC,8BAA8B,qBAAS,CAAC,UAAU,EAAE,CAAC,CAAC;AAEpE,CAAC,CAAC,CAAC;AACH;IACE,MAAM,CAAC,KAAK,EAAE,CAAC;AACjB,CAAC;AAED,MAAM,CAAC,OAAO,GAAG;IACf,IAAI;IACJ,UAAU;IACV,MAAM,EAAE,MAAM;IACd,GAAG,EAAE,GAAG;CACT,CAAC","sourcesContent":["import { routes } from \"./routes/routesFunction\";\r\nimport { appConfig } from \"./config/appConfig\";\r\n\r\nimport express from \"express\";\r\nimport http from \"http\";\r\nimport morgan from \"morgan\";\r\nimport bodyParser from \"body-parser\";\r\nimport { LogService } from \"./logs/logHandler\";\r\nimport { DBManager } from \"./dbModule/connect\";\r\nimport { dbConfig } from \"./config/dbConfig\";\r\n\r\nconst app = express();\r\nconst server = http.createServer(app);\r\n\r\n\r\n\r\napp.use(morgan(\"dev\"));\r\napp.use(bodyParser.json({ limit: \"10mb\" }));\r\napp.use(bodyParser.urlencoded({ limit: \"10mb\", extended: true }));\r\nconst logService = new LogService();\r\nDBManager.connect(dbConfig.url, logService);\r\napp.set(\"port\", appConfig.rabbitPort);\r\nroutes(app);\r\n\r\nserver.listen(appConfig.rabbitPort, () => {\r\n\r\n  console.log(`running fsdfsdon localhost:${appConfig.rabbitPort}`);\r\n\r\n});\r\nfunction stop() {\r\n  server.close();\r\n}\r\n\r\nmodule.exports = {\r\n  stop,\r\n  logService,\r\n  server: server,\r\n  app: app\r\n};\r\n\r\n"]}