{"version":3,"file":"connect.js","sourceRoot":"","sources":["../../../../mission/src/dbModule/connect.ts"],"names":[],"mappings":";;AAEA,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAErC;IACE,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,UAAuB;QAEzC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACtB,MAAM,EAAE,GAAG,QAAQ,CAAC,UAAU,CAAC;YAC/B,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;gBACnB,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACpB,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;gBACd,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;gBACnC,OAAO,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,IAAK;QACrB,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;CACF;AApBD,8BAoBC","sourcesContent":["import { LogService } from \"../logs/logHandler\";\r\n\r\nconst mongoose = require(\"mongoose\");\r\n\r\nexport class DBManager {\r\n  static connect(Url, logService : LogService) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      mongoose.connect(Url);\r\n      const db = mongoose.connection;\r\n      db.on(\"error\", (e) => {\r\n        logService.error(e);\r\n        return reject(e);\r\n      });\r\n      db.once(\"open\", function () {\r\n        console.log(\"connected to mongo!\");\r\n        return resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  static disconnect(done?) {\r\n    mongoose.disconnect(done);\r\n  }\r\n}\r\n\r\n\r\n"]}